"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[341],{1341:function(n,e,r){r.r(e),r.d(e,{default:function(){return H}});var t,s=r(3634),i=r(1614),a=r(4554),c=r(890),o=r(9281),l=r(5527),u=r(9836),d=r(6890),m=r(5855),x=r(3994),h=r(3382),j=r(7247),f=r(232),Z=r(9434),b=r(4808),p=r(4180),g=r(184),v=function(){var n=(0,Z.I0)();return(0,g.jsx)(a.Z,{component:"form",sx:p.nC.hX,noValidate:!0,children:(0,g.jsx)(f.Z,{id:"outlined-basic",label:"Find contacts",variant:"outlined",onChange:function(e){return n((0,b.T)(e.currentTarget.value))}})})},C=r(6916),N=function(n){return n.contacts.items},y=function(n){return n.contacts.isLoading},k=function(n){return n.contacts.error},K=(0,C.P1)([N,function(n){return n.filter}],(function(n,e){if(!e)return n;var r=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(r)}))})),w=r(9439),z=r(2791),q=r(7005),_=r(9875),A=r(168),F=r(612),L=r(5705),I=(0,F.Z)(L.l0)(t||(t=(0,A.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  border-radius: 8px;\n  padding: 10px;\n  margin: auto;\n\n  label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n  }\n\n  input {\n    margin-top: 6px;\n    outline: none;\n  }\n\n  div {\n    color: #df0707;\n  }\n"]))),P=r(5729),S=r(6727),T={checkName:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,messageName:"Name may contain only letters"},V=T.checkName,B=T.messageName,G={checkNum:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,messageNum:"Phone number must be digits"},R=G.checkNum,D=G.messageNum,E=S.Ry().shape({name:S.Z_().matches(V,B).required("Name is required"),number:S.Z_().matches(R,D).required("Number is required")}),J={name:"",number:""},U=function(n){var e=n.onClose,r=(0,Z.I0)(),t=(0,Z.v9)(N);return(0,g.jsx)(L.J9,{initialValues:J,validationSchema:E,onSubmit:function(n,i){var a=i.resetForm;t.some((function(e){var r=e.name,t=e.number;return r.toLowerCase()===n.name.toLowerCase()||t===n.number}))?alert("A contact with the same name or number is already in contacts"):(r((0,s.uK)(n)),a(),e())},children:(0,g.jsxs)(I,{children:[(0,g.jsxs)("label",{htmlFor:"name",children:["Name",(0,g.jsx)(L.gN,{type:"text",name:"name"}),(0,g.jsx)(L.Bc,{name:"name",component:"div"})]}),(0,g.jsxs)("label",{htmlFor:"number",children:["Number",(0,g.jsx)(L.gN,{type:"tel",name:"number"}),(0,g.jsx)(L.Bc,{name:"number",component:"div"})]}),(0,g.jsx)(P.Z,{variant:"contained",type:"submit",children:"Add"})]})})},X=function(){var n=z.useState(!1),e=(0,w.Z)(n,2),r=e[0],t=e[1],s=function(){return t(!1)};return(0,g.jsxs)(a.Z,{sx:p.nC.uK,children:[(0,g.jsx)(_.Z,{sx:p.qv.uK,onClick:function(){return t(!0)},children:"add_circle"}),(0,g.jsx)(q.Z,{open:r,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsx)(a.Z,{sx:p.nC.N3,children:(0,g.jsx)(U,{onClose:s})})})]})},$=function(){var n=(0,Z.v9)(N),e=(0,Z.v9)(K),r=(0,Z.I0)();return(0,g.jsx)(i.Z,{sx:p.nC.Un,children:0===n.length?(0,g.jsxs)(a.Z,{sx:p.nC.ge,children:[(0,g.jsx)(c.Z,{variant:"h7",children:"There are no contacts in your phone book yet. Please add contacts."}),(0,g.jsx)(X,{})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a.Z,{sx:p.nC.ge,children:[(0,g.jsx)(v,{}),(0,g.jsxs)(a.Z,{sx:p.nC.ge,children:[(0,g.jsx)(c.Z,{variant:"h7",mr:1,children:"Add contact"}),(0,g.jsx)(X,{})]})]}),0===e.length?(0,g.jsx)("p",{children:"Contacts not found"}):(0,g.jsx)(o.Z,{component:l.Z,children:(0,g.jsxs)(u.Z,{sx:p.Kz.Vs,"aria-label":"simple table",children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)(m.Z,{sx:p.Kz.bc,children:[(0,g.jsx)(x.Z,{sx:p.Kz.K5,children:"Name"}),(0,g.jsx)(x.Z,{align:"center",sx:p.Kz.K5,children:"Number"}),(0,g.jsx)(x.Z,{align:"right",sx:p.Kz.K5,children:"Delete"})]})}),(0,g.jsx)(h.Z,{children:e.map((function(n){var e=n.id,t=n.name,i=n.number;return(0,g.jsxs)(m.Z,{sx:p.Kz.Gb,children:[(0,g.jsx)(x.Z,{component:"th",scope:"row",children:t}),(0,g.jsx)(x.Z,{align:"center",children:i}),(0,g.jsx)(x.Z,{align:"right",children:(0,g.jsx)(j.Z,{sx:p.qv.ap,onClick:function(){return r((0,s.GK)(e))}})})]},e)}))})]})})]})})},H=function(){var n=(0,Z.I0)(),e=(0,Z.v9)(y),r=(0,Z.v9)(k);return(0,z.useEffect)((function(){n((0,s.yF)())}),[n]),(0,g.jsxs)(a.Z,{sx:{pt:2},children:[(0,g.jsx)("div",{children:e&&!r&&"Request in progress..."}),(0,g.jsx)($,{})]})}}}]);
//# sourceMappingURL=341.492b0cec.chunk.js.map