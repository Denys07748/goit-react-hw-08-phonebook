"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[341],{1341:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var t,i=r(3634),s=r(1614),a=r(4554),o=r(890),c=r(9281),l=r(5527),d=r(9836),u=r(6890),m=r(5855),x=r(3994),h=r(3382),p=r(7247),f=r(232),b=r(9434),j=r(4808),g=r(184),Z=function(){var e=(0,b.I0)();return(0,g.jsx)(a.Z,{component:"form",sx:{mb:1,width:"25ch"},noValidate:!0,children:(0,g.jsx)(f.Z,{id:"outlined-basic",label:"Find contacts",variant:"outlined",onChange:function(n){return e((0,j.T)(n.currentTarget.value))}})})},v=r(6916),y=function(e){return e.contacts.items},N=function(e){return e.contacts.isLoading},k=function(e){return e.contacts.error},w=(0,v.P1)([y,function(e){return e.filter}],(function(e,n){if(!n)return e;var r=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(r)}))})),C=r(9439),I=r(2791),_=r(7005),A=r(9875),F=r(168),q=r(612),L=r(5705),S=(0,q.Z)(L.l0)(t||(t=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  border-radius: 8px;\n  padding: 10px;\n  margin: auto;\n\n  label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n  }\n\n  input {\n    margin-top: 6px;\n    outline: none;\n  }\n\n  div {\n    color: #df0707;\n  }\n"]))),z=r(5729),R=r(6727),P={checkName:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,messageName:"Name may contain only letters"},T=P.checkName,B=P.messageName,D={checkNum:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,messageNum:"Phone number must be digits"},K=D.checkNum,V=D.messageNum,W=R.Ry().shape({name:R.Z_().matches(T,B).required("Name is required"),number:R.Z_().matches(K,V).required("Number is required")}),E={name:"",number:""},G=function(e){var n=e.onClose,r=(0,b.I0)(),t=(0,b.v9)(y);return(0,g.jsx)(L.J9,{initialValues:E,validationSchema:W,onSubmit:function(e,s){var a=s.resetForm;t.some((function(n){var r=n.name,t=n.number;return r.toLowerCase()===e.name.toLowerCase()||t===e.number}))?alert("A contact with the same name or number is already in contacts"):(r((0,i.uK)(e)),a(),n())},children:(0,g.jsxs)(S,{children:[(0,g.jsxs)("label",{htmlFor:"name",children:["Name",(0,g.jsx)(L.gN,{type:"text",name:"name"}),(0,g.jsx)(L.Bc,{name:"name",component:"div"})]}),(0,g.jsxs)("label",{htmlFor:"number",children:["Number",(0,g.jsx)(L.gN,{type:"tel",name:"number"}),(0,g.jsx)(L.Bc,{name:"number",component:"div"})]}),(0,g.jsx)(z.Z,{variant:"contained",type:"submit",children:"Add"})]})})},J={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,background:"rgba(11, 9, 26, 0.808)",border:"1px solid #000",borderRadius:4,boxShadow:24,p:2},$=function(){var e=I.useState(!1),n=(0,C.Z)(e,2),r=n[0],t=n[1],i=function(){return t(!1)};return(0,g.jsxs)("div",{children:[(0,g.jsx)(A.Z,{sx:{fontSize:30,display:"flex",alignItems:"center",cursor:"pointer"},onClick:function(){return t(!0)},children:"add_circle"}),(0,g.jsx)(_.Z,{open:r,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsx)(a.Z,{sx:J,children:(0,g.jsx)(G,{onClose:i})})})]})},H=function(){var e=(0,b.v9)(y),n=(0,b.v9)(w),r=(0,b.I0)();return(0,g.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",background:"rgba(11, 9, 26, 0.808)",maxWidth:"500px",outline:"2px solid gray",borderRadius:"8px",padding:"15px"},children:0===e.length?(0,g.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(o.Z,{variant:"h7",children:"There are no contacts in your phone book yet. Please add contacts."}),(0,g.jsx)($,{})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)(Z,{}),(0,g.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(o.Z,{variant:"h7",mr:1,children:"Add contact"}),(0,g.jsx)($,{})]})]}),0===n.length?(0,g.jsx)("p",{children:"Contacts not found"}):(0,g.jsx)(c.Z,{component:l.Z,children:(0,g.jsxs)(d.Z,{sx:{minWidth:320,bgcolor:"inherit"},"aria-label":"simple table",children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)(m.Z,{sx:{color:"#5ca8f4"},children:[(0,g.jsx)(x.Z,{sx:{color:"inherit"},children:"Name"}),(0,g.jsx)(x.Z,{align:"center",sx:{color:"inherit"},children:"Number"}),(0,g.jsx)(x.Z,{align:"right",sx:{color:"inherit"},children:"Delete"})]})}),(0,g.jsx)(h.Z,{children:n.map((function(e){var n=e.id,t=e.name,s=e.number;return(0,g.jsxs)(m.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,g.jsx)(x.Z,{component:"th",scope:"row",children:t}),(0,g.jsx)(x.Z,{align:"center",children:s}),(0,g.jsx)(x.Z,{align:"right",children:(0,g.jsx)(p.Z,{sx:{cursor:"pointer"},onClick:function(){return r((0,i.GK)(n))}})})]},n)}))})]})})]})})},M=function(){var e=(0,b.I0)(),n=(0,b.v9)(N),r=(0,b.v9)(k);return(0,I.useEffect)((function(){e((0,i.yF)())}),[e]),(0,g.jsxs)(a.Z,{sx:{pt:2},children:[(0,g.jsx)("div",{children:n&&!r&&"Request in progress..."}),(0,g.jsx)(H,{})]})}}}]);
//# sourceMappingURL=341.3253e0f3.chunk.js.map